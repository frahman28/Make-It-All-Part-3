<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/employee_styles.css">
    <script src="./js/all_problems.js" defer></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <title>View Equipment</title>
</head>

<body>
    <div class="text-center image-div">
        <img class="text-center logo" src="./images/logo.png" alt="make-it-all">
    </div>
    <nav class="navbar navbar-expand-lg bg-dark navbar-dark">
        <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#main-links">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="main-links">
                <ul class="navbar-nav">
                    <li class="nav-item px-4"><a href="my_problems.html" class="nav-link">Home</a></li>
                    <li class="nav-item px-4"><a href="#" class="nav-link">Submit a Problem</a></li>
                    <li class="nav-item px-4"><a href="all_problems.html" class="nav-link">All Problems</a></li>
                </ul>
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item dropdown  px-4">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Username here
                        </a>
                        <ul class="dropdown-menu bg-dark dropdown-menu-dark" aria-labelledby="navbarDropdownMenuLink">
                            <li><a class="dropdown-item" href="settings.html">Settings</a></li>
                            <li><a class="dropdown-item" href="#">Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <br><br>
    <div class="container">
        <form action="">
            <div class="row">
                <div class="col-6">
                    <input type="text" id="search-area" name="search-area" class="form-control" placeholder="Search..">
                </div>
                <div class="col-4">
                    <select id="search-by" name="search-by" class="form-select">
                        <option selected>Search By</option>
                        <option value="first">Serial Number</option>
                        <option value="second">Equipment Make</option>
                        <option value="td:third">Equipment Type</option>
                        <option value="td:fourth">Software Running</option>
                    </select>
                </div>
                <div class="col-2">
                    <input type="submit" id= "search" name="search" value="Search"
                        class="btn btn-dark w-100 px-0 px-m-3" placeholder="Search...">
                </div>
            </div>
            <div class="col">
                <input type="checkbox" class="form-check-input" id="solved-only">
                <label class="form-check-label" for="solved-only">Show solved only</label>
            </div>
        </form>
    </div>
    <br>
    <div class="container">
        <table class="all-problem-table table table-bordered accordion">
            <thead>
                <tr class="table-secondary">
                    <th value = "0">Hardware ID</th>
                    <th value = "1" >Hardware Name</th>
                    <th value = "2" >Hardware Type</th>
                    <th value = "3" >Serial Number</th>
                </tr>
            </thead>
            <tbody id="view-hardware-table">
                <!-- Dummy data, remove when taking data from database -->
                <% for (var i = 0; i < hardware.length; i++ ) {%> 
                <tr class="visible-row accordion" data-bs-toggle="collapse">
                    <td>#<%= hardware[i]["hardware_id"] %> </td>
                    <td><%= hardware[i]["name"] %></td>
                    <td><%= hardware[i]["type"] %></td>
                    <td><%= hardware[i]["serial"] %> </td>
                </tr> 
                <tr class="accordion-collapse collapse" data-bs-parent=".all-problem-table">
                    <td class="hidden-data" colspan="4">
                        <div class="accordion-collapse collapse" data-bs-parent=".all-problem-table">
                            <br>
                            <table class="hidden-table table table-striped table-bordered">
                                <tr>
                                    <td>Problem ID:</td>
                                    <td>1</td>
                                </tr>
                                <tr>
                                    <td>Problem Type:</td>
                                    <td>Hardware</td>
                                </tr>
                                <tr>
                                    <td>Problem Description:</td>
                                    <td>Dropped laptop in water.</td>
                                </tr>
                                <tr>
                                    <td>Solution:</td>
                                    <td>Submerge in bag of rice for 24 hours.</td>
                                </tr>
                                <tr>
                                    <td>Employee Name:</td>
                                    <td>Lisa Poole</td>
                                </tr>
                                <tr>
                                    <td>Specialist Name:</td>
                                    <td>Bert Thompson</td>
                                </tr>
                                <tr>
                                    <td>Opened on:</td>
                                    <td>07/03/2022</td>
                                </tr>
                                <tr>
                                    <td>Closed on:</td>
                                    <td>15/03/2022</td>
                                </tr>
                                <tr>
                                    <td>Operating System:</td>
                                    <td>Windows 10</td>
                                </tr>
                                <tr>
                                    <td>Software Name:</td>
                                    <td>N/A</td>
                                </tr>
                                <tr>
                                    <td>Software Type:</td>
                                    <td>N/A</td>
                                </tr>
                                <tr>
                                    <td>Device Name:</td>
                                    <td>Asus Chromebook</td>
                                </tr>
                                <tr>
                                    <td>Equipment type:</td>
                                    <td>Laptop</td>
                                </tr>
                                <tr>
                                    <td>Serial Number:</td>
                                    <td>299388</td>
                                </tr>
                            </table>
                            <br>
                        </div>
                    </td>
                </tr>
                <% } %>
            </tbody>
        </table>
    </div>
    <br>
    <div class="container">
        <table class="all-problem-table table table-bordered accordion">
            <thead>
                <tr class="table-secondary">
                    <th value = "0">Software ID</th>
                    <th value = "1" >Software Name</th>
                    <th value = "2" >Software Type</th>
                    <th value = "3" >License Number</th>
                </tr>
            </thead>
            <tbody id="view-software-table">
                <!-- Dummy data, remove when taking data from database -->
                <% for (var i = 0; i < software.length; i++ ) {%> 
                <tr class="visible-row accordion" data-bs-toggle="collapse">
                    <td>#<%= software[i]["software_id"] %> </td>
                    <td><%= software[i]["name"] %></td>
                    <td><%= software[i]["type"] %></td>
                    <td><%= software[i]["license"] %> </td>
                </tr> 
                <tr class="accordion-collapse collapse" data-bs-parent=".all-problem-table">
                    <td class="hidden-data" colspan="4">
                        <div class="accordion-collapse collapse" data-bs-parent=".all-problem-table">
                            <br>
                            <table class="hidden-table table table-striped table-bordered">
                                <tr>
                                    <td>Problem ID:</td>
                                    <td>1</td>
                                </tr>
                                <tr>
                                    <td>Problem Type:</td>
                                    <td>Hardware</td>
                                </tr>
                                <tr>
                                    <td>Problem Description:</td>
                                    <td>Dropped laptop in water.</td>
                                </tr>
                                <tr>
                                    <td>Solution:</td>
                                    <td>Submerge in bag of rice for 24 hours.</td>
                                </tr>
                                <tr>
                                    <td>Employee Name:</td>
                                    <td>Lisa Poole</td>
                                </tr>
                                <tr>
                                    <td>Specialist Name:</td>
                                    <td>Bert Thompson</td>
                                </tr>
                                <tr>
                                    <td>Opened on:</td>
                                    <td>07/03/2022</td>
                                </tr>
                                <tr>
                                    <td>Closed on:</td>
                                    <td>15/03/2022</td>
                                </tr>
                                <tr>
                                    <td>Operating System:</td>
                                    <td>Windows 10</td>
                                </tr>
                                <tr>
                                    <td>Software Name:</td>
                                    <td>N/A</td>
                                </tr>
                                <tr>
                                    <td>Software Type:</td>
                                    <td>N/A</td>
                                </tr>
                                <tr>
                                    <td>Device Name:</td>
                                    <td>Asus Chromebook</td>
                                </tr>
                                <tr>
                                    <td>Equipment type:</td>
                                    <td>Laptop</td>
                                </tr>
                                <tr>
                                    <td>Serial Number:</td>
                                    <td>299388</td>
                                </tr>
                            </table>
                            <br>
                        </div>
                    </td>
                </tr>
                <% } %>
            </tbody>
        </table>
    </div>
    <br>
    <div class="container">
        <table class="all-problem-table table table-bordered accordion">
            <thead>
                <tr class="table-secondary">
                    <th value = "0">OS ID</th>
                    <th value = "1" >OS Name</th>
                </tr>
            </thead>
            <tbody id="view-os-table">
                <!-- Dummy data, remove when taking data from database -->
                <% for (var i = 0; i < os.length; i++ ) {%> 
                <tr class="visible-row accordion" data-bs-toggle="collapse">
                    <td>#<%= os[i]["os_id"] %> </td>
                    <td><%= os[i]["name"] %></td>
                </tr>
                <tr class="accordion-collapse collapse" data-bs-parent=".all-problem-table">
                    <td class="hidden-data" colspan="4">
                        <div class="accordion-collapse collapse" data-bs-parent=".all-problem-table">
                            <br>
                            <table class="hidden-table table table-striped table-bordered">
                                <tr>
                                    <td>Problem ID:</td>
                                    <td>1</td>
                                </tr>
                                <tr>
                                    <td>Problem Type:</td>
                                    <td>Hardware</td>
                                </tr>
                                <tr>
                                    <td>Problem Description:</td>
                                    <td>Dropped laptop in water.</td>
                                </tr>
                                <tr>
                                    <td>Solution:</td>
                                    <td>Submerge in bag of rice for 24 hours.</td>
                                </tr>
                                <tr>
                                    <td>Employee Name:</td>
                                    <td>Lisa Poole</td>
                                </tr>
                                <tr>
                                    <td>Specialist Name:</td>
                                    <td>Bert Thompson</td>
                                </tr>
                                <tr>
                                    <td>Opened on:</td>
                                    <td>07/03/2022</td>
                                </tr>
                                <tr>
                                    <td>Closed on:</td>
                                    <td>15/03/2022</td>
                                </tr>
                                <tr>
                                    <td>Operating System:</td>
                                    <td>Windows 10</td>
                                </tr>
                                <tr>
                                    <td>Software Name:</td>
                                    <td>N/A</td>
                                </tr>
                                <tr>
                                    <td>Software Type:</td>
                                    <td>N/A</td>
                                </tr>
                                <tr>
                                    <td>Device Name:</td>
                                    <td>Asus Chromebook</td>
                                </tr>
                                <tr>
                                    <td>Equipment type:</td>
                                    <td>Laptop</td>
                                </tr>
                                <tr>
                                    <td>Serial Number:</td>
                                    <td>299388</td>
                                </tr>
                            </table>
                            <br>
                        </div>
                    </td>
                </tr>
                <% } %>
            </tbody>
        </table>
    </div>

        <script>
            $(document).ready(function(){
              $("#search-area").on("keyup", function() {
                var value = $(this).val().toLowerCase();
                $("#view-equipment-table tr").filter(function() {
                    $(this).toggle($(this).find(("#search-by").value).text().toLowerCase().indexOf(value) > -1)                });
              });
            });


            
        </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
</body>

</html>